include:
  - ./oats-template.yaml
input:
  - path: /api/HttpClient/GetError
expected:
  traces:
    - traceql: '{ span.http.route =~ "api/HttpClient/GetError" }'
      spans:
        - name: 'GET api/HttpClient/GetError'
          attributes:
            http.request.method: GET
        - name: 'GET'
          attributes:
            error.type: '500'
            http.request.method: GET
            http.response.status_code: '500'
  metrics:
    - promql: http_client_request_duration_seconds_count{}
      value: '>= 0'
